<div class="pagetitle">
    <h1>Dashboard</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">Home</li>
            <li class="breadcrumb-item active"><a routerLink="/dashboard">Dashboard</a></li>
            <li class="breadcrumb-item active">Web Sites</li>
        </ol>
    </nav>
</div><!-- End Page Title -->
    
<section class="section dashboard">
    <div class="row">
        <!-- Centar column -->
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Website Details</h5>
                    
                    @if (isError) {
                        <p>Something went wrong. Please try again later.</p>
                    } @else if (passwordChanged) {
                        <p>Your password has been successfully changed. Next time, you can log in with your new password.</p>
                    }

                    <!-- Horizontal Form -->
                    <form name="websiteToken" (ngSubmit)="executeChangePasswordRequest();" ngForm #nf="ngForm">
                        <div class="row mb-3">
                            <label for="newPassword" class="col-sm-2 col-form-label">New Password</label>
                            <div class="col-sm-10">
                            <input type="password" name="newPassword" class="form-control" id="newPassword" [(ngModel)]="newPassword" ngModel #newPasswordModel="ngModel" required>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="newPasswordConfirm" class="col-sm-2 col-form-label">Confirm New Password</label>
                            <div class="col-sm-10">
                            <input type="password" name="newPasswordConfirm" class="form-control" id="newPasswordConfirm" [(ngModel)]="newPasswordConfirm" ngModel #newPasswordConfirmModel="ngModel" required>
                            </div>
                        </div>
                    
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary" [disabled]="!nf.valid">Submit</button> 
                            @if (isProgressStarted) {
                            <div class="progress mt-3">
                                <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" style="width: 100%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            }
                        </div>
                    </form><!-- End Horizontal Form -->
                </div>
            </div>
        </div><!-- End Center column -->
    </div>
</section>